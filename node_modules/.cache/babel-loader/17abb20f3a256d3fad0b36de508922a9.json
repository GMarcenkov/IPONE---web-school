{"ast":null,"code":"var _jsxFileName = \"/home/george/Documents/Home/ipon-web-school/src/client/desktop/modules/products/categoryProducts/CategoryProductsContainer.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport ReactLoading from 'react-loading';\nimport ProductList from \"../components/ProductList\";\nimport CategoryProductsHeader from \"./components/CategoryProductsHeader\";\n\nclass CategoryProductsContainer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleGetProducts = async () => {\n      await axios.get(\"http://localhost:5000/products/\").then(response => {\n        const category = window.location.pathname.slice(1).search(\"/\") + 2;\n        response.data.map(product => {\n          if (product.category_slug === window.location.pathname.slice(category)) {\n            this.state.products.push(product);\n          }\n        });\n        this.setState({\n          isLoading: false\n        });\n      }).catch(function (error) {});\n    };\n\n    this.handleGetCategory = async () => {\n      await axios.get(\"http://localhost:5000/category/\").then(response => {\n        const slug = window.location.pathname.slice(1).search(\"/\") + 2;\n        response.data.map(category => {\n          if (category.slug === window.location.pathname.slice(slug)) {\n            this.setState({\n              category: category\n            });\n          }\n        });\n        this.setState({\n          isLoading: false\n        });\n      }).catch(function (error) {});\n    };\n\n    this.state = {\n      products: [],\n      isLoading: true,\n      category: ''\n    };\n  }\n\n  componentDidMount() {\n    this.handleGetProducts();\n    this.handleGetCategory();\n  }\n\n  render() {\n    const {\n      products,\n      category,\n      isLoading\n    } = this.state;\n\n    if (isLoading === true) {\n      return React.createElement(ReactLoading, {\n        type: \"spin\",\n        color: \"blue\",\n        height: 667,\n        width: 375,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(CategoryProductsHeader, {\n      category: category,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, products.map(product => {\n      return React.createElement(ProductList, {\n        product: product,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      });\n    })));\n  }\n\n}\n\nCategoryProductsContainer.propTypes = {};\nexport default CategoryProductsContainer;","map":{"version":3,"sources":["/home/george/Documents/Home/ipon-web-school/src/client/desktop/modules/products/categoryProducts/CategoryProductsContainer.js"],"names":["React","axios","ReactLoading","ProductList","CategoryProductsHeader","CategoryProductsContainer","Component","constructor","props","handleGetProducts","get","then","response","category","window","location","pathname","slice","search","data","map","product","category_slug","state","products","push","setState","isLoading","catch","error","handleGetCategory","slug","componentDidMount","render","propTypes"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport ReactLoading from 'react-loading';\nimport ProductList from \"../components/ProductList\";\nimport CategoryProductsHeader from \"./components/CategoryProductsHeader\";\n\nclass CategoryProductsContainer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n        products: [],\n        isLoading: true,\n        category: ''\n    }\n  }\n  componentDidMount() {\n    this.handleGetProducts();\n    this.handleGetCategory()\n  }\n\n  handleGetProducts = async () => {\n    await axios\n      .get(\"http://localhost:5000/products/\")\n      .then(response => {\n        const category = window.location.pathname.slice(1).search(\"/\") + 2;\n        response.data.map(product =>  {\n          if (product.category_slug === window.location.pathname.slice(category)) {\n            this.state.products.push(product);\n          }\n        });\n        this.setState({isLoading:false})\n      })\n      .catch(function(error) {});\n  };\n  handleGetCategory= async ()=>{\n      await axios\n          .get(\"http://localhost:5000/category/\")\n          .then(response => {\n              const slug = window.location.pathname.slice(1).search(\"/\") + 2;\n              response.data.map(category =>  {\n                  if (category.slug === window.location.pathname.slice(slug)) {\n                      this.setState({category:category})\n                  }\n              });\n              this.setState({isLoading:false})\n          })\n          .catch(function(error) {});\n  }\n\n  render() {\n    const { products,category,isLoading } = this.state;\n    if(isLoading===true){\n\n      return <ReactLoading type={\"spin\"} color={\"blue\"} height={667} width={375} />\n    }\n    return (\n      <div>\n        <CategoryProductsHeader category={category}/>\n        <div className=\"row\">\n          {products.map(product => {\n            return (\n                <ProductList product={product}/>\n            );\n          })}\n        </div>\n\n      </div>\n    );\n  }\n}\n\nCategoryProductsContainer.propTypes = {};\n\nexport default CategoryProductsContainer;\n"]},"metadata":{},"sourceType":"module"}