{"ast":null,"code":"var _jsxFileName = \"/home/george/Documents/Home/ipon-web-school/src/client/admin/modules/users/UsersContainer.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport UsersListTable from \"./components/userListTable/UsersListTable\";\nimport UserEditModal from \"./edit/UserEditModal\";\n\nclass UsersContainer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleGetUsers = () => {\n      axios.get(\"http://localhost:5000/users/\").then(response => {\n        console.log(\"ss\", response);\n        this.setState({\n          users: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    this.handleInput = event => {\n      this.setState({\n        user: { ...this.state.user,\n          [event.target.name]: event.target.value\n        }\n      });\n    };\n\n    this.handleDeleteUser = id => {\n      axios.delete(`http://localhost:5000/users/delete/${id}`).then(() => this.handleGetUsers());\n    };\n\n    this.handleCloseEditModal = () => {\n      this.setState({\n        editModalIsOpen: false,\n        user: {\n          username: \"\",\n          password: \"\"\n        }\n      });\n    };\n\n    this.handleOpenEditModal = id => {\n      const {\n        users\n      } = this.state;\n      let user = users.find(user => user._id === id);\n      this.setState({\n        editModalIsOpen: true,\n        user: {\n          username: user.username,\n          password: user.password\n        },\n        selectedUserId: user._id\n      });\n    };\n\n    this.handleEditUSer = () => {\n      const {\n        selectedUserId,\n        user\n      } = this.state;\n      axios.put(`http://localhost:5000/users/edit/${selectedUserId}`, user).then(() => this.handleGetUsers());\n      this.setState({\n        editModalIsOpen: false\n      });\n    };\n\n    this.state = {\n      users: [],\n      user: {\n        username: \"\",\n        password: \"\"\n      },\n      selectedUserId: \"\",\n      editModalIsOpen: false,\n      removeModalIsOpen: false\n    };\n  }\n\n  componentDidMount() {\n    this.handleGetUsers();\n  }\n\n  render() {\n    const {\n      users,\n      editModalIsOpen,\n      user\n    } = this.state;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(UsersListTable, {\n      users: users,\n      deleteUser: this.handleDeleteUser,\n      editUser: this.handleOpenEditModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(UserEditModal, {\n      user: user,\n      editUser: this.handleEditUSer,\n      editModalIsOpen: editModalIsOpen,\n      closeModal: this.handleCloseEditModal,\n      handleInput: this.handleInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }));\n  }\n\n}\n\nUsersContainer.propTypes = {};\nexport default UsersContainer;","map":{"version":3,"sources":["/home/george/Documents/Home/ipon-web-school/src/client/admin/modules/users/UsersContainer.js"],"names":["React","axios","UsersListTable","UserEditModal","UsersContainer","Component","constructor","props","handleGetUsers","get","then","response","console","log","setState","users","data","catch","error","handleInput","event","user","state","target","name","value","handleDeleteUser","id","delete","handleCloseEditModal","editModalIsOpen","username","password","handleOpenEditModal","find","_id","selectedUserId","handleEditUSer","put","removeModalIsOpen","componentDidMount","render","propTypes"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport UsersListTable from \"./components/userListTable/UsersListTable\";\nimport UserEditModal from \"./edit/UserEditModal\";\n\nclass UsersContainer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      users: [],\n      user: {\n        username: \"\",\n        password: \"\"\n      },\n      selectedUserId: \"\",\n      editModalIsOpen: false,\n      removeModalIsOpen: false\n    };\n  }\n  componentDidMount() {\n    this.handleGetUsers();\n  }\n  handleGetUsers = () => {\n    axios\n      .get(\"http://localhost:5000/users/\")\n      .then(response => {\n        console.log(\"ss\", response);\n        this.setState({\n          users: response.data\n        });\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n  };\n  handleInput=(event)=>{\n    this.setState({user:{...this.state.user,[event.target.name]:event.target.value}})\n  }\n  handleDeleteUser = id => {\n    axios\n      .delete(`http://localhost:5000/users/delete/${id}`)\n      .then(() => this.handleGetUsers());\n  };\n  handleCloseEditModal = () => {\n    this.setState({\n      editModalIsOpen: false,\n      user: { username: \"\", password: \"\" }\n    });\n  };\n  handleOpenEditModal = id => {\n    const { users } = this.state;\n    let user = users.find(user => user._id === id);\n    this.setState({\n      editModalIsOpen: true,\n      user: { username: user.username,password:user.password },\n      selectedUserId: user._id\n    });\n  };\n\n  handleEditUSer = () => {\n    const { selectedUserId,user } = this.state;\n    axios\n      .put(`http://localhost:5000/users/edit/${selectedUserId}`,user)\n      .then(() => this.handleGetUsers());\n    this.setState({editModalIsOpen:false})\n  };\n  render() {\n    const { users, editModalIsOpen,user } = this.state;\n    return (\n      <div>\n        <UsersListTable\n          users={users}\n          deleteUser={this.handleDeleteUser}\n          editUser={this.handleOpenEditModal}\n        />\n        <UserEditModal\n            user={user}\n            editUser={this.handleEditUSer}\n          editModalIsOpen={editModalIsOpen}\n          closeModal={this.handleCloseEditModal}\n            handleInput={this.handleInput}\n        />\n      </div>\n    );\n  }\n}\n\nUsersContainer.propTypes = {};\n\nexport default UsersContainer;\n"]},"metadata":{},"sourceType":"module"}