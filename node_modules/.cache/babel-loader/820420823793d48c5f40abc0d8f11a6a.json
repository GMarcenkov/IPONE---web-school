{"ast":null,"code":"var _jsxFileName = \"/home/george/Documents/Home/easytrade.bg/src/client/admin/modules/category/CategoryContainer.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport TreeChildren from \"./TreeChildren\";\nimport \"./components/categoryContainer.css\";\nimport CategoryCreate from \"./components/CategoryCreate/CategoryCreate\";\nimport ReactLoading from \"react-loading\";\nimport slugify from \"slugify\";\nimport CategoryEdit from \"./components/CategoryEdit\";\n\nclass CategoryContainer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInput = event => {\n      this.setState({\n        title: event.target.value\n      });\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        selected_category: [{ ...this.state.selected_category[0],\n          title: event.target.value\n        }]\n      });\n    };\n\n    this.handleGetCategory = async () => {\n      await axios.get(\"http://localhost:5000/category/\").then(response => {\n        this.setState({\n          categories: response.data\n        });\n        response.data.map(category => {\n          this.handleBuildCategory(category);\n        });\n        this.state.subcategory.map(sub => {\n          if (!sub.parent_id) {\n            this.state.subcategories.push(sub);\n          }\n        });\n        this.setState({\n          isLoading: false\n        });\n      }).catch(function (error) {});\n    };\n\n    this.handleBuildCategory = category => {\n      let result = this.state.categories.filter(sub => sub.parent_id === category._id);\n\n      if (result.length > 0) {\n        category.subcategory = result;\n        this.state.subcategory.push(category);\n      } else {\n        if (!category.parent_id) {\n          this.state.subcategory.push(category);\n        }\n      }\n    };\n\n    this.handleChangeParent = parent => {\n      this.setState({\n        parentId: parent.value,\n        parentTitle: parent.label\n      });\n    };\n\n    this.handleCreateCategory = async () => {\n      const category = {\n        parent_id: this.state.parentId === undefined ? \"\" : this.state.parentId,\n        title: this.state.title,\n        slug: slugify(this.state.title)\n      };\n      await axios.post(\"http://localhost:5000/category/add\", category).catch(e => {\n        this.setState({\n          request: \"Failed to create\"\n        });\n      });\n      this.setState({\n        categories: [],\n        category: {},\n        subcategory: [],\n        subcategories: []\n      });\n      this.handleGetCategory();\n    };\n\n    this.handleSelectCategory = async category => {\n      await this.setState({\n        selected_category: [],\n        selected_category_parent: []\n      });\n      this.state.selected_category.push(category);\n      if (category.parent_id) await this.state.categories.map(option => {\n        if (category.parent_id === option._id) {\n          this.state.selected_category_parent.push(option);\n        }\n      });\n      this.setState({});\n    };\n\n    this.handleEditCategory = id => {\n      const category = {\n        parent_id: this.state.parentId,\n        title: this.state.selected_category[0].title,\n        slug: slugify(this.state.selected_category[0].title)\n      };\n      console.log(category, id);\n      axios.put(`http://localhost:5000/category/edit/${id}`, category).then(response => {\n        this.setState({\n          categories: [],\n          category: {},\n          subcategory: [],\n          subcategories: [],\n          selected_category: [],\n          selected_category_parent: []\n        });\n        this.handleGetCategory();\n      }).catch(function (error) {});\n    };\n\n    this.handleDeleteCategory = id => {\n      axios.delete(`http://localhost:5000/category/delete/${id}`).then(response => {\n        this.setState({\n          categories: [],\n          category: {},\n          subcategory: [],\n          subcategories: [],\n          selected_category: [],\n          selected_category_parent: []\n        });\n        this.handleGetCategory();\n      }).catch(function (error) {});\n    };\n\n    this.handleBackToCreate = () => {\n      this.setState({\n        selected_category: []\n      });\n    };\n\n    this.state = {\n      categories: [],\n      category: {},\n      subcategory: [],\n      subcategories: [],\n      parentId: \"\",\n      parentTitle: '',\n      title: \"\",\n      isLoading: true,\n      selected_category: [],\n      selected_category_parent: []\n    };\n  }\n\n  componentDidMount() {\n    this.handleGetCategory();\n  }\n\n  render() {\n    const {\n      subcategories,\n      isLoading,\n      selected_category,\n      selected_category_parent\n    } = this.state;\n\n    if (isLoading === true) {\n      return React.createElement(ReactLoading, {\n        type: \"spin\",\n        color: \"blue\",\n        height: 300,\n        width: 100,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      });\n    }\n\n    return React.createElement(\"div\", {\n      className: \"category_wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"category_holder\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container_categories\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, subcategories.map(category => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(TreeChildren, {\n        editCategory: this.handleSelectCategory,\n        subcategory: category,\n        category: category,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }));\n    })), React.createElement(\"div\", {\n      className: \"container_category\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, selected_category.length === 0 ? React.createElement(CategoryCreate, {\n      handleChange: this.handleInput,\n      categories: subcategories,\n      title: this.state.title,\n      parentSelect: this.handleChangeParent,\n      create: this.handleCreateCategory,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }) : React.createElement(CategoryEdit, {\n      back_to_create: this.handleBackToCreate,\n      editCategory: this.handleEditCategory,\n      deleteCategory: this.handleDeleteCategory,\n      parent: selected_category_parent[0],\n      handleChange: this.handleChange,\n      categories: subcategories,\n      category: selected_category[0],\n      parentSelect: this.handleChangeParent,\n      create: this.handleCreateCategory,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nCategoryContainer.propTypes = {};\nexport default CategoryContainer;","map":{"version":3,"sources":["/home/george/Documents/Home/easytrade.bg/src/client/admin/modules/category/CategoryContainer.js"],"names":["React","axios","TreeChildren","CategoryCreate","ReactLoading","slugify","CategoryEdit","CategoryContainer","Component","constructor","props","handleInput","event","setState","title","target","value","handleChange","selected_category","state","handleGetCategory","get","then","response","categories","data","map","category","handleBuildCategory","subcategory","sub","parent_id","subcategories","push","isLoading","catch","error","result","filter","_id","length","handleChangeParent","parent","parentId","parentTitle","label","handleCreateCategory","undefined","slug","post","e","request","handleSelectCategory","selected_category_parent","option","handleEditCategory","id","console","log","put","handleDeleteCategory","delete","handleBackToCreate","componentDidMount","render","propTypes"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport TreeChildren from \"./TreeChildren\";\nimport \"./components/categoryContainer.css\";\nimport CategoryCreate from \"./components/CategoryCreate/CategoryCreate\";\nimport ReactLoading from \"react-loading\";\nimport slugify from \"slugify\";\nimport CategoryEdit from \"./components/CategoryEdit\";\n\nclass CategoryContainer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      categories: [],\n      category: {},\n      subcategory: [],\n      subcategories: [],\n      parentId: \"\",\n      parentTitle:'',\n      title: \"\",\n      isLoading: true,\n      selected_category: [],\n      selected_category_parent: []\n    };\n  }\n  componentDidMount() {\n    this.handleGetCategory();\n  }\n  handleInput = event => {\n    this.setState({\n      title: event.target.value\n    });\n  };\n  handleChange = event => {\n    this.setState({selected_category:[{\n      ...this.state.selected_category[0],\n        title: event.target.value\n      }]\n    });\n  };\n  handleGetCategory = async () => {\n    await axios\n      .get(\"http://localhost:5000/category/\")\n      .then(response => {\n        this.setState({\n          categories: response.data\n        });\n        response.data.map(category => {\n          this.handleBuildCategory(category);\n        });\n        this.state.subcategory.map(sub => {\n          if (!sub.parent_id) {\n            this.state.subcategories.push(sub);\n          }\n        });\n\n        this.setState({ isLoading: false });\n      })\n      .catch(function(error) {});\n  };\n\n  handleBuildCategory = category => {\n    let result = this.state.categories.filter(\n      sub => sub.parent_id === category._id\n    );\n\n    if (result.length > 0) {\n      category.subcategory = result;\n      this.state.subcategory.push(category);\n    } else {\n      if (!category.parent_id) {\n        this.state.subcategory.push(category);\n      }\n    }\n  };\n  handleChangeParent = parent => {\n    this.setState({ parentId: parent.value,parentTitle:parent.label });\n  };\n  handleCreateCategory = async () => {\n\n    const category = {\n      parent_id: this.state.parentId===undefined?\"\":this.state.parentId,\n      title: this.state.title,\n      slug: slugify(this.state.title)\n    };\n    await axios\n      .post(\"http://localhost:5000/category/add\", category)\n      .catch(e => {\n        this.setState({ request: \"Failed to create\" });\n      });\n    this.setState({\n      categories: [],\n      category: {},\n      subcategory: [],\n      subcategories: []\n    });\n    this.handleGetCategory();\n  };\n  handleSelectCategory = async category => {\n    await this.setState({\n      selected_category: [],\n      selected_category_parent: []\n    });\n    this.state.selected_category.push(category);\n    if (category.parent_id)\n      await this.state.categories.map(option => {\n        if (category.parent_id === option._id) {\n          this.state.selected_category_parent.push(option);\n        }\n      });\n    this.setState({});\n  };\n  handleEditCategory = id => {\n    const category = {\n      parent_id: this.state.parentId,\n      title: this.state.selected_category[0].title,\n      slug: slugify(this.state.selected_category[0].title)\n    };\n    console.log(category,id);\n    axios\n      .put(`http://localhost:5000/category/edit/${id}`, category)\n        .then(response => {\n          this.setState({\n            categories: [],\n            category: {},\n            subcategory: [],\n            subcategories: [],\n            selected_category: [],\n            selected_category_parent: []\n          });\n          this.handleGetCategory();\n        })\n        .catch(function(error) {});\n  };\n  handleDeleteCategory = id => {\n    axios\n      .delete(`http://localhost:5000/category/delete/${id}`)\n      .then(response => {\n        this.setState({\n          categories: [],\n          category: {},\n          subcategory: [],\n          subcategories: [],\n          selected_category: [],\n          selected_category_parent: []\n        });\n        this.handleGetCategory();\n      })\n      .catch(function(error) {});\n  };\n  handleBackToCreate=()=>{\n    this.setState({selected_category:[]})\n  }\n  render() {\n    const {\n      subcategories,\n      isLoading,\n      selected_category,\n      selected_category_parent\n    } = this.state;\n    if (isLoading === true) {\n      return (\n        <ReactLoading type={\"spin\"} color={\"blue\"} height={300} width={100} />\n      );\n    }\n    return (\n      <div className=\"category_wrapper\">\n        <div className=\"category_holder\">\n          <div className=\"container_categories\">\n            {subcategories.map(category => {\n              return (\n                <div>\n                  <TreeChildren\n                    editCategory={this.handleSelectCategory}\n                    subcategory={category}\n                    category={category}\n                  />\n                </div>\n              );\n            })}\n          </div>\n          <div className=\"container_category\">\n            {selected_category.length === 0 ? (\n              <CategoryCreate\n                handleChange={this.handleInput}\n                categories={subcategories}\n                title={this.state.title}\n                parentSelect={this.handleChangeParent}\n                create={this.handleCreateCategory}\n              />\n            ) : (\n              <CategoryEdit\n                  back_to_create={this.handleBackToCreate}\n                editCategory={this.handleEditCategory}\n                deleteCategory={this.handleDeleteCategory}\n                parent={selected_category_parent[0]}\n                handleChange={this.handleChange}\n                categories={subcategories}\n                category={selected_category[0]}\n                parentSelect={this.handleChangeParent}\n                create={this.handleCreateCategory}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nCategoryContainer.propTypes = {};\n\nexport default CategoryContainer;\n"]},"metadata":{},"sourceType":"module"}