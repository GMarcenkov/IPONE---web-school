{"ast":null,"code":"var _jsxFileName = \"/home/george/Documents/Home/ipon-web-school/src/client/admin/modules/products/productCreate/ProductCreateContainer.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport \"./components/ProductCreate.css\";\nimport slugify from \"slugify\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"; // import { faCircle } from \"@fortawesome/free-solid-svg-icons\";\n\nimport { faSquare } from \"@fortawesome/free-solid-svg-icons\";\nimport { faCheckSquare } from \"@fortawesome/free-solid-svg-icons\";\nimport StudentsTableHeader from \"./components/StudentsTableHeader\";\nimport StudentsTableRow from \"./components/StudentsTableRow\";\n\nclass ProductCreateContainer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInput = event => {\n      this.setState({ ...this.state,\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleChangeParent = parent => {\n      this.setState({\n        category_title: parent.label\n      });\n    };\n\n    this.handleGetUsers = async () => {\n      await axios.get(\"http://localhost:5000/users/\").then(response => {\n        this.setState({\n          users: response.data\n        });\n      }).catch(function (error) {});\n    };\n\n    this.handleGetCategory = async () => {\n      await axios.get(\"http://localhost:5000/category/\").then(response => {\n        response.data.map(category => {\n          this.handleBuildCategory(category, response.data);\n        });\n        this.state.subcategories.map(sub => {\n          if (!sub.parent_id) {\n            this.state.categories.push(sub);\n          }\n        });\n        this.setState({\n          isLoading: false\n        });\n      }).catch(function (error) {});\n    };\n\n    this.handleBuildCategory = (category, categories) => {\n      let result = categories.filter(sub => sub.parent_id === category._id);\n\n      if (result.length > 0) {\n        category.subcategory = result;\n        this.state.subcategories.push(category);\n      } else {\n        if (!category.parent_id) {\n          this.state.subcategories.push(category);\n        }\n      }\n    };\n\n    this.validateForm = data => {\n      const error = {};\n\n      if (data.title.length < 3) {\n        error.title = \"Името е твърде късо.\";\n      }\n\n      if (data.price < 1) {\n        error.price = \"Липсва цена.\";\n      }\n\n      if (data.category_title.length < 3) {\n        error.category = \"Изберете категория.\";\n      }\n\n      if (data.weight < 1) {\n        error.weight = \"Добавете тегло.\";\n      }\n\n      if (data.sku < 1) {\n        error.sku = \"Добавете SKU.\";\n      }\n\n      if (data.quantity < 1) {\n        error.quantity = \"Добавете бройка.\";\n      }\n\n      if (data.imageLink < 1) {\n        error.imageLink = \"Добавете снимка.\";\n      }\n\n      return error;\n    };\n\n    this.handleSearch = event => {\n      this.setState({ ...this.state,\n        [event.target.name]: event.target.value\n      });\n      let students = [];\n\n      if (event.target.value.trim().length === 0) {\n        this.setState({\n          search: []\n        });\n      } else {\n        this.state.users.map(user => {\n          if (this.state.filterByName) {\n            if (user.name.includes(event.target.value) || user.secondName.includes(event.target.value) || user.familyName.includes(event.target.value)) {\n              students.push(user);\n            }\n          } else {\n            if (user.username.includes(event.target.value.trim())) {\n              students.push(user);\n            }\n          }\n        });\n        this.setState({\n          search: students\n        });\n      }\n\n      students = [];\n    };\n\n    this.handleChangeFilter = () => {\n      if (this.state.filterByName) {\n        this.setState({\n          filterByName: false\n        });\n      } else {\n        this.setState({\n          filterByName: true\n        });\n      }\n    };\n\n    this.handleAddStudent = student => {\n      let stu = [];\n      this.state.students.push(student);\n      this.state.students.map(student => {\n        stu = this.state.users.filter(user => user._id !== student._id);\n      });\n      this.setState({\n        search: [],\n        users: stu,\n        addStudent: \"\"\n      });\n    };\n\n    this.handleSubmit = () => {\n      const {\n        title,\n        years,\n        students,\n        teacher,\n        quantity\n      } = this.state;\n      const errors = this.validateForm(this.state);\n      const isValid = Object.values(errors).filter(Boolean).length <= 0;\n\n      if (!isValid) {\n        this.setState({\n          errors: errors\n        });\n        return;\n      }\n\n      this.setState({\n        request: \"\"\n      });\n      const subject = {\n        title: title,\n        years: years,\n        students: students,\n        teacher: teacher,\n        quantity: quantity,\n        slug: slugify(title, {\n          lower: true,\n          remove: /[():.@><,_{}]/g\n        })\n      };\n      axios.post(\"http://localhost:5000/products/add\", subject).then(res => this.setState({\n        title: \"\",\n        years: 0,\n        students: [],\n        teacher: \"\",\n        quantity: 0\n      })).catch(error => this.setState({\n        error: \"Името или SKU на пеодукта е вече използвано.\"\n      }));\n    };\n\n    this.state = {\n      filterByName: false,\n      users: [],\n      search: [],\n      addStudent: \"\",\n      title: \"\",\n      years: \"\",\n      teacher: \"\",\n      quantity: 0,\n      countStudents: 0,\n      students: [{\n        username: \"9912067268\",\n        name: \"Георги\",\n        secondName: \"Томов\",\n        familyName: \"Мърценков\"\n      }],\n      categories: [],\n      subcategories: [],\n      isLoading: true,\n      errors: {},\n      error: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.handleGetCategory();\n    this.handleGetUsers();\n  }\n\n  render() {\n    const {\n      title,\n      discount_price,\n      sku,\n      quantity,\n      errors\n    } = this.state;\n    return React.createElement(\"div\", {\n      className: \"create_product\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form_row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, \" \", React.createElement(\"div\", {\n      className: \"form_body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"text_year\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, \"\\u041D\\u0430\\u0438\\u043C\\u0435\\u043D\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043D\\u0430 \\u043F\\u0440\\u0435\\u0434\\u043C\\u0435\\u0442\\u0430\"), React.createElement(\"input\", {\n      className: \"form_input\",\n      name: \"title\",\n      type: \"text\",\n      onChange: this.handleInput,\n      value: title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, errors.category ? errors.category : \"\"))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, \" \", React.createElement(\"div\", {\n      className: \"text_year\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, \"\\u0423\\u0447\\u0438\\u0442\\u0435\\u043B\"), React.createElement(\"input\", {\n      className: \"form_input\",\n      name: \"discount_price\",\n      type: \"text\",\n      onChange: this.handleInput,\n      value: discount_price,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, errors.discount_price ? errors.discount_price : \"\")))), React.createElement(\"div\", {\n      className: \"form_row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form_row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"text_year\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, \"\\u0413\\u043E\\u0434\\u0438\\u043D\\u0430 \\u043D\\u0430 \\u043E\\u0431\\u0443\\u0447\\u0435\\u043D\\u0438\\u0435\"), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form_body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, \"\\u041E\\u0422:\"), React.createElement(\"input\", {\n      className: \"form_year\",\n      name: \"sku\",\n      type: \"text\",\n      onChange: this.handleInput,\n      value: sku,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, errors.sku ? errors.sku : \"\")), React.createElement(\"div\", {\n      className: \"form_body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, \"\\u0414\\u041E:\"), React.createElement(\"input\", {\n      className: \"form_year\",\n      name: \"sku\",\n      type: \"text\",\n      onChange: this.handleInput,\n      value: sku,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }, errors.sku ? errors.sku : \"\")))), React.createElement(\"div\", {\n      className: \"form_row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form_body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"text_year\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, \"\\u041A\\u043B\\u0430\\u0441\"), React.createElement(\"input\", {\n      className: \"form_class\",\n      placeholder: \"8\",\n      name: \"quantity\",\n      type: \"number\",\n      onChange: this.handleInput,\n      value: quantity,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, errors.quantity ? errors.quantity : \"\")), React.createElement(\"div\", {\n      className: \"form_body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"text_year\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, \"\\u041A\\u043B\\u0430\\u0441\"), React.createElement(\"input\", {\n      className: \"form_class\",\n      placeholder: \"8\",\n      name: \"quantity\",\n      type: \"number\",\n      onChange: this.handleInput,\n      value: quantity,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }, errors.quantity ? errors.quantity : \"\")))))), React.createElement(\"div\", {\n      className: \"form_row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"text_year\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438 \\u0443\\u0447\\u0435\\u043D\\u0438\\u0446\\u0438\"), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form_addStu\",\n      placeholder: \"\\u0422\\u044A\\u0440\\u0441\\u0438 \\u0443\\u0447\\u0435\\u043D\\u0438\\u043A\",\n      name: \"addStudent\",\n      type: \"text\",\n      onChange: this.handleSearch,\n      value: this.state.addStudent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form_filter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }, this.state.filterByName ? React.createElement(FontAwesomeIcon, {\n      className: \"form_filter\",\n      icon: faSquare,\n      onClick: this.handleChangeFilter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }) : React.createElement(FontAwesomeIcon, {\n      className: \"form_filter\",\n      icon: faCheckSquare,\n      onClick: this.handleChangeFilter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    }), \"\\u0422\\u044A\\u0440\\u0441\\u0438 \\u043F\\u043E \\u0415\\u0413\\u041D\"), React.createElement(\"div\", {\n      className: \"form_filter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }, this.state.filterByName ? React.createElement(FontAwesomeIcon, {\n      className: \"form_filter\",\n      icon: faCheckSquare,\n      onClick: this.handleChangeFilter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }) : React.createElement(FontAwesomeIcon, {\n      className: \"form_filter\",\n      icon: faSquare,\n      onClick: this.handleChangeFilter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    }), \"\\u0422\\u044A\\u0440\\u0441\\u0438 \\u043F\\u043E \\u0418\\u043C\\u0435,\\u041F\\u0440\\u0435\\u0437\\u0438\\u043C\\u0435,\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\")), this.state.search.slice(-10).reverse().map(stu => React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349\n      },\n      __self: this\n    }, this.state.filterByName ? stu.name : stu.username, React.createElement(\"button\", {\n      onClick: () => this.handleAddStudent(stu),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351\n      },\n      __self: this\n    }, \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\"))), React.createElement(\"div\", {\n      style: {\n        color: \"red\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    }, errors.quantity ? errors.quantity : \"\")), React.createElement(\"div\", {\n      style: {\n        \"margin-top\": \"100px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360\n      },\n      __self: this\n    }, \"\\u0423\\u0447\\u0430\\u0449\\u0438\", React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362\n      },\n      __self: this\n    }, React.createElement(StudentsTableHeader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    }), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    }, this.state.students.reverse().map(student => React.createElement(StudentsTableRow, {\n      student: student,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366\n      },\n      __self: this\n    })))))), React.createElement(\"button\", {\n      className: \"create_button\",\n      onClick: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373\n      },\n      __self: this\n    }, \"\\u0421\\u044A\\u0437\\u0434\\u0430\\u0439\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377\n      },\n      __self: this\n    }, this.state.error));\n  }\n\n}\n\nProductCreateContainer.propTypes = {};\nexport default ProductCreateContainer;","map":{"version":3,"sources":["/home/george/Documents/Home/ipon-web-school/src/client/admin/modules/products/productCreate/ProductCreateContainer.js"],"names":["React","axios","slugify","FontAwesomeIcon","faSquare","faCheckSquare","StudentsTableHeader","StudentsTableRow","ProductCreateContainer","Component","constructor","props","handleInput","event","setState","state","target","name","value","handleChangeParent","parent","category_title","label","handleGetUsers","get","then","response","users","data","catch","error","handleGetCategory","map","category","handleBuildCategory","subcategories","sub","parent_id","categories","push","isLoading","result","filter","_id","length","subcategory","validateForm","title","price","weight","sku","quantity","imageLink","handleSearch","students","trim","search","user","filterByName","includes","secondName","familyName","username","handleChangeFilter","handleAddStudent","student","stu","addStudent","handleSubmit","years","teacher","errors","isValid","Object","values","Boolean","request","subject","slug","lower","remove","post","res","countStudents","componentDidMount","render","discount_price","color","slice","reverse","propTypes"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport \"./components/ProductCreate.css\";\nimport slugify from \"slugify\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n// import { faCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { faSquare } from \"@fortawesome/free-solid-svg-icons\";\nimport { faCheckSquare } from \"@fortawesome/free-solid-svg-icons\";\nimport StudentsTableHeader from \"./components/StudentsTableHeader\";\nimport StudentsTableRow from \"./components/StudentsTableRow\";\nclass ProductCreateContainer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      filterByName: false,\n      users: [],\n      search: [],\n      addStudent: \"\",\n      title: \"\",\n      years: \"\",\n      teacher: \"\",\n      quantity: 0,\n      countStudents: 0,\n      students: [\n        {\n          username: \"9912067268\",\n          name: \"Георги\",\n          secondName: \"Томов\",\n          familyName: \"Мърценков\"\n        }\n      ],\n      categories: [],\n      subcategories: [],\n      isLoading: true,\n      errors: {},\n      error: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.handleGetCategory();\n    this.handleGetUsers();\n  }\n  handleInput = event => {\n    this.setState({\n      ...this.state,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  handleChangeParent = parent => {\n    this.setState({ category_title: parent.label });\n  };\n  handleGetUsers = async () => {\n    await axios\n      .get(\"http://localhost:5000/users/\")\n      .then(response => {\n        this.setState({ users: response.data });\n      })\n      .catch(function(error) {});\n  };\n  handleGetCategory = async () => {\n    await axios\n      .get(\"http://localhost:5000/category/\")\n      .then(response => {\n        response.data.map(category => {\n          this.handleBuildCategory(category, response.data);\n        });\n        this.state.subcategories.map(sub => {\n          if (!sub.parent_id) {\n            this.state.categories.push(sub);\n          }\n        });\n        this.setState({ isLoading: false });\n      })\n      .catch(function(error) {});\n  };\n  handleBuildCategory = (category, categories) => {\n    let result = categories.filter(sub => sub.parent_id === category._id);\n\n    if (result.length > 0) {\n      category.subcategory = result;\n      this.state.subcategories.push(category);\n    } else {\n      if (!category.parent_id) {\n        this.state.subcategories.push(category);\n      }\n    }\n  };\n  validateForm = data => {\n    const error = {};\n\n    if (data.title.length < 3) {\n      error.title = \"Името е твърде късо.\";\n    }\n    if (data.price < 1) {\n      error.price = \"Липсва цена.\";\n    }\n    if (data.category_title.length < 3) {\n      error.category = \"Изберете категория.\";\n    }\n    if (data.weight < 1) {\n      error.weight = \"Добавете тегло.\";\n    }\n    if (data.sku < 1) {\n      error.sku = \"Добавете SKU.\";\n    }\n    if (data.quantity < 1) {\n      error.quantity = \"Добавете бройка.\";\n    }\n    if (data.imageLink < 1) {\n      error.imageLink = \"Добавете снимка.\";\n    }\n    return error;\n  };\n\n  handleSearch = event => {\n    this.setState({\n      ...this.state,\n      [event.target.name]: event.target.value\n    });\n    let students = [];\n    if (event.target.value.trim().length === 0) {\n      this.setState({ search: [] });\n    } else {\n      this.state.users.map(user => {\n        if (this.state.filterByName) {\n          if (\n            user.name.includes(event.target.value) ||\n            user.secondName.includes(event.target.value) ||\n            user.familyName.includes(event.target.value)\n          ) {\n            students.push(user);\n          }\n        } else {\n          if (user.username.includes(event.target.value.trim())) {\n            students.push(user);\n          }\n        }\n      });\n      this.setState({ search: students });\n    }\n    students = [];\n  };\n  handleChangeFilter = () => {\n    if (this.state.filterByName) {\n      this.setState({ filterByName: false });\n    } else {\n      this.setState({ filterByName: true });\n    }\n  };\n  handleAddStudent = student => {\n    let stu = [];\n    this.state.students.push(student);\n    this.state.students.map(student => {\n      stu = this.state.users.filter(user => user._id !== student._id);\n    });\n    this.setState({ search: [], users: stu, addStudent: \"\" });\n  };\n  handleSubmit = () => {\n    const { title, years, students, teacher, quantity } = this.state;\n    const errors = this.validateForm(this.state);\n    const isValid = Object.values(errors).filter(Boolean).length <= 0;\n    if (!isValid) {\n      this.setState({ errors: errors });\n      return;\n    }\n    this.setState({ request: \"\" });\n    const subject = {\n      title: title,\n      years: years,\n      students: students,\n      teacher: teacher,\n      quantity: quantity,\n      slug: slugify(title, { lower: true, remove: /[():.@><,_{}]/g })\n    };\n    axios\n      .post(\"http://localhost:5000/products/add\", subject)\n      .then(res =>\n        this.setState({\n          title: \"\",\n          years: 0,\n          students: [],\n          teacher: \"\",\n          quantity: 0\n        })\n      )\n      .catch(error =>\n        this.setState({ error: \"Името или SKU на пеодукта е вече използвано.\" })\n      );\n  };\n  render() {\n    const { title, discount_price, sku, quantity, errors } = this.state;\n    return (\n      <div className=\"create_product\">\n        <div className=\"form_row\">\n          <div className=\"row\">\n            {\" \"}\n            <div className=\"form_body\">\n              <div>\n                <div className=\"text_year\">Наименование на предмета</div>\n                <input\n                  className=\"form_input\"\n                  name=\"title\"\n                  type=\"text\"\n                  onChange={this.handleInput}\n                  value={title}\n                />\n                <div style={{ color: \"red\" }}>\n                  {errors.category ? errors.category : \"\"}\n                </div>\n              </div>\n            </div>\n            <div>\n              {\" \"}\n              <div className=\"text_year\">Учител</div>\n              <input\n                className=\"form_input\"\n                name=\"discount_price\"\n                type=\"text\"\n                onChange={this.handleInput}\n                value={discount_price}\n              />\n              <div style={{ color: \"red\" }}>\n                {errors.discount_price ? errors.discount_price : \"\"}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"form_row\">\n          <div className=\"row\">\n            <div className=\"form_row\">\n              <div className=\"text_year\">Година на обучение</div>\n              <div className=\"row\">\n                <div className=\"form_body\">\n                  <div>ОТ:</div>\n                  <input\n                    className=\"form_year\"\n                    name=\"sku\"\n                    type=\"text\"\n                    onChange={this.handleInput}\n                    value={sku}\n                  />\n                  <div style={{ color: \"red\" }}>\n                    {errors.sku ? errors.sku : \"\"}\n                  </div>\n                </div>\n                <div className=\"form_body\">\n                  <div>ДО:</div>\n                  <input\n                    className=\"form_year\"\n                    name=\"sku\"\n                    type=\"text\"\n                    onChange={this.handleInput}\n                    value={sku}\n                  />\n                  <div style={{ color: \"red\" }}>\n                    {errors.sku ? errors.sku : \"\"}\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"form_row\">\n              <div className=\"row\">\n                <div className=\"form_body\">\n                  <div className=\"text_year\">Клас</div>\n                  <input\n                    className=\"form_class\"\n                    placeholder=\"8\"\n                    name=\"quantity\"\n                    type=\"number\"\n                    onChange={this.handleInput}\n                    value={quantity}\n                  />\n                  <div style={{ color: \"red\" }}>\n                    {errors.quantity ? errors.quantity : \"\"}\n                  </div>\n                </div>\n                <div className=\"form_body\">\n                  <div className=\"text_year\">Клас</div>\n                  <input\n                      className=\"form_class\"\n                      placeholder=\"8\"\n                      name=\"quantity\"\n                      type=\"number\"\n                      onChange={this.handleInput}\n                      value={quantity}\n                  />\n                  <div style={{ color: \"red\" }}>\n                    {errors.quantity ? errors.quantity : \"\"}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"form_row\">\n          <div className=\"text_year\">Добави ученици</div>\n          <div className=\"row\">\n            <input\n              className=\"form_addStu\"\n              placeholder=\"Търси ученик\"\n              name=\"addStudent\"\n              type=\"text\"\n              onChange={this.handleSearch}\n              value={this.state.addStudent}\n            />\n            <div>\n              <div className=\"form_filter\">\n                {this.state.filterByName ? (\n                  <FontAwesomeIcon\n                    className=\"form_filter\"\n                    icon={faSquare}\n                    onClick={this.handleChangeFilter}\n                  />\n                ) : (\n                  <FontAwesomeIcon\n                    className=\"form_filter\"\n                    icon={faCheckSquare}\n                    onClick={this.handleChangeFilter}\n                  />\n                )}\n                Търси по ЕГН\n              </div>\n              <div className=\"form_filter\">\n                {this.state.filterByName ? (\n                  <FontAwesomeIcon\n                    className=\"form_filter\"\n                    icon={faCheckSquare}\n                    onClick={this.handleChangeFilter}\n                  />\n                ) : (\n                  <FontAwesomeIcon\n                    className=\"form_filter\"\n                    icon={faSquare}\n                    onClick={this.handleChangeFilter}\n                  />\n                )}\n                Търси по Име,Презиме,Фамилия\n              </div>\n            </div>\n            {this.state.search\n              .slice(-10)\n              .reverse()\n              .map(stu => (\n                <div>\n                  {this.state.filterByName ? stu.name : stu.username}\n                  <button onClick={() => this.handleAddStudent(stu)}>\n                    Добави\n                  </button>\n                </div>\n              ))}\n            <div style={{ color: \"red\" }}>\n              {errors.quantity ? errors.quantity : \"\"}\n            </div>\n          </div>\n          <div style={{ \"margin-top\": \"100px\" }}>\n            Учащи\n            <table>\n              <StudentsTableHeader />\n              <tbody>\n                {this.state.students.reverse().map(student => (\n                  <StudentsTableRow student={student} />\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        <button className=\"create_button\" onClick={this.handleSubmit}>\n          Създай\n        </button>\n\n        <div>{this.state.error}</div>\n      </div>\n    );\n  }\n}\n\nProductCreateContainer.propTypes = {};\n\nexport default ProductCreateContainer;\n"]},"metadata":{},"sourceType":"module"}