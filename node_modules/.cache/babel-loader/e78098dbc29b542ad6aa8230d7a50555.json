{"ast":null,"code":"var _jsxFileName = \"/home/george/Documents/Home/ipon-web-school/src/client/desktop/modules/registration/Register.js\";\nimport React from \"react\";\nimport NavBar from \"../layout/navBar/NavBar\";\nimport axios from \"axios\";\nimport \"./Register.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faRegistered } from \"@fortawesome/free-solid-svg-icons\";\n\nclass Register extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = event => {\n      this.setState({ ...this.state,\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.validateForm = data => {\n      const error = {};\n\n      if (data.password.length < 3) {\n        error.password = \"Паролата е твърде късо.\";\n      }\n\n      if (data.username.length < 3) {\n        error.username = \"Името е твърде късо.\";\n      }\n\n      console.log(data.password.length, data.dublicate);\n\n      if (data.password !== data.dublicate) {\n        error.dublicate = \"Паролата не е повторена правилно!\";\n      }\n\n      return error;\n    };\n\n    this.handleSubmit = () => {\n      const errors = this.validateForm(this.state);\n      const isValid = Object.values(errors).filter(Boolean).length <= 0;\n      console.log(this.state);\n\n      if (!isValid) {\n        this.setState({\n          error: errors\n        });\n        return;\n      }\n\n      this.setState({\n        request: \"\"\n      });\n      const user = {\n        username: this.state.username,\n        password: this.state.password,\n        isAdmin: false\n      };\n      axios.post(\"http://localhost:5000/users/add\", user).then(res => console.log(res.data)).catch(() => this.setState({\n        request: \"failed\"\n      }));\n      this.setState({\n        username: \"\",\n        password: \"\",\n        dublicate: \"\",\n        request: \"Регистрирахте се успешно!\"\n      });\n    };\n\n    this.state = {\n      username: \"\",\n      password: \"\",\n      dublicate: \"\",\n      request: \"\",\n      error: {}\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(NavBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"EasyTrade\", React.createElement(FontAwesomeIcon, {\n      className: \"icon\",\n      icon: faRegistered,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"register_form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"), React.createElement(\"div\", {\n      className: \"register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"register_username\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"\\u0418\\u043C\\u0435\"), React.createElement(\"input\", {\n      className: \"input_form\",\n      name: \"username\",\n      value: this.state.email,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, this.state.error.username === undefined ? \"\" : this.state.error.username)), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"register_password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u0430\"), React.createElement(\"input\", {\n      className: \"input_form\",\n      type: \"password\",\n      name: \"password\",\n      value: this.state.password,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, this.state.error.password === undefined ? \"\" : this.state.error.password)), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      className: \"register_repeat_password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"\\u041F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0435\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u0430\\u0442\\u0430\"), React.createElement(\"input\", {\n      className: \"input_form\",\n      type: \"password\",\n      name: \"dublicate\",\n      value: this.state.dublicate,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, this.state.error.dublicate === undefined ? \"\" : this.state.error.dublicate)), React.createElement(\"button\", {\n      onClick: this.handleSubmit,\n      className: \"submit_register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u0430\\u0439 \\u0441\\u0435\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, this.state.request))));\n  }\n\n}\n\nRegister.propTypes = {};\nexport default Register; // export default class RegistrationForm extends React.Component {\n//   render() {\n//     return (\n//       <div>\n//         <NavBar />\n//         <form>\n//           <div>\n//             <h1 style={{ color: \"grey\" }}>Регистрация:</h1>\n//           </div>\n//           <p style={{ color: \"blue\" }}>И-мейл:</p>\n//           <input name=\"userEmail\" type=\"email\" required />\n//           <p style={{ color: \"blue\" }}>Парола:</p>\n//           <input name=\"userPassword\" type=\"password\" required />\n//           <p style={{ color: \"blue\" }}>Потвърди парола:</p>\n//           <input name=\"confirmPassword\" type=\"password\" required />\n//           <p style={{ color: \"blue\" }}>Име:</p>\n//           <input name=\"firstName\" />\n//           <p style={{ color: \"blue\" }}>Фамилия:</p>\n//           <input name=\"lastName\" />\n//           <p style={{ color: \"blue\" }}>Държава:</p>\n//           <input name=\"country\" />\n//\n//           <button className=\"btn-outline-warning\">Регистриране</button>\n//         </form>\n//       </div>\n//     );\n//   }\n// }","map":{"version":3,"sources":["/home/george/Documents/Home/ipon-web-school/src/client/desktop/modules/registration/Register.js"],"names":["React","NavBar","axios","FontAwesomeIcon","faRegistered","Register","Component","constructor","props","handleChange","event","setState","state","target","name","value","validateForm","data","error","password","length","username","console","log","dublicate","handleSubmit","errors","isValid","Object","values","filter","Boolean","request","user","isAdmin","post","then","res","catch","render","email","undefined","propTypes"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport NavBar from \"../layout/navBar/NavBar\";\nimport axios from \"axios\";\nimport \"./Register.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faRegistered } from \"@fortawesome/free-solid-svg-icons\";\n\nclass Register extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: \"\",\n      password: \"\",\n      dublicate: \"\",\n      request: \"\",\n      error: {}\n    };\n  }\n  handleChange = event => {\n    this.setState({\n      ...this.state,\n      [event.target.name]: event.target.value\n    });\n  };\n  validateForm = data => {\n    const error = {};\n\n    if (data.password.length < 3) {\n      error.password = \"Паролата е твърде късо.\";\n    }\n    if (data.username.length < 3) {\n      error.username = \"Името е твърде късо.\";\n    }\n    console.log(data.password.length, data.dublicate);\n    if (data.password !== data.dublicate) {\n      error.dublicate = \"Паролата не е повторена правилно!\";\n    }\n    return error;\n  };\n  handleSubmit = () => {\n    const errors = this.validateForm(this.state);\n    const isValid = Object.values(errors).filter(Boolean).length <= 0;\n    console.log(this.state);\n    if (!isValid) {\n      this.setState({ error: errors });\n      return;\n    }\n    this.setState({ request: \"\" });\n    const user = {\n      username: this.state.username,\n      password: this.state.password,\n      isAdmin: false\n    };\n    axios\n      .post(\"http://localhost:5000/users/add\", user)\n      .then(res => console.log(res.data))\n      .catch(() => this.setState({ request: \"failed\" }));\n    this.setState({\n      username: \"\",\n      password: \"\",\n      dublicate: \"\",\n      request: \"Регистрирахте се успешно!\"\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"form\">\n        <NavBar />\n        <div className=\"logo\">\n          EasyTrade\n          <FontAwesomeIcon className=\"icon\" icon={faRegistered} />\n        </div>\n        <div className=\"register_form\">Регистрация</div>\n        <div className=\"register\">\n          <div>\n            <label className=\"register_username\">Име</label>\n\n            <input\n              className=\"input_form\"\n              name=\"username\"\n              value={this.state.email}\n              onChange={this.handleChange}\n            />\n            <div>\n              {this.state.error.username === undefined\n                ? \"\"\n                : this.state.error.username}\n            </div>\n          </div>\n          <div>\n            <label className=\"register_password\">Парола</label>\n\n            <input\n              className=\"input_form\"\n              type=\"password\"\n              name=\"password\"\n              value={this.state.password}\n              onChange={this.handleChange}\n            />\n            <div>\n              {this.state.error.password === undefined\n                ? \"\"\n                : this.state.error.password}\n            </div>\n          </div>\n          <div>\n            <label className=\"register_repeat_password\">\n              Повторете паролата\n            </label>\n            <input\n              className=\"input_form\"\n              type=\"password\"\n              name=\"dublicate\"\n              value={this.state.dublicate}\n              onChange={this.handleChange}\n            />\n            <div>\n              {this.state.error.dublicate === undefined\n                ? \"\"\n                : this.state.error.dublicate}\n            </div>\n          </div>\n          <button onClick={this.handleSubmit} className=\"submit_register\">\n            Регистрирай се\n          </button>\n          <div>\n            <h1>{this.state.request}</h1>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nRegister.propTypes = {};\n\nexport default Register;\n\n// export default class RegistrationForm extends React.Component {\n//   render() {\n//     return (\n//       <div>\n//         <NavBar />\n//         <form>\n//           <div>\n//             <h1 style={{ color: \"grey\" }}>Регистрация:</h1>\n//           </div>\n//           <p style={{ color: \"blue\" }}>И-мейл:</p>\n//           <input name=\"userEmail\" type=\"email\" required />\n//           <p style={{ color: \"blue\" }}>Парола:</p>\n//           <input name=\"userPassword\" type=\"password\" required />\n//           <p style={{ color: \"blue\" }}>Потвърди парола:</p>\n//           <input name=\"confirmPassword\" type=\"password\" required />\n//           <p style={{ color: \"blue\" }}>Име:</p>\n//           <input name=\"firstName\" />\n//           <p style={{ color: \"blue\" }}>Фамилия:</p>\n//           <input name=\"lastName\" />\n//           <p style={{ color: \"blue\" }}>Държава:</p>\n//           <input name=\"country\" />\n//\n//           <button className=\"btn-outline-warning\">Регистриране</button>\n//         </form>\n//       </div>\n//     );\n//   }\n// }\n"]},"metadata":{},"sourceType":"module"}