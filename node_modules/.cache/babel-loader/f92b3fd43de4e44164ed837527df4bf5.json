{"ast":null,"code":"var _jsxFileName = \"/home/george/Documents/Home/ipon-web-school/src/client/admin/modules/gradess/yearCreate/YearCreateContainer.js\";\nimport React from \"react\";\nimport YearCreate from \"./components/YearCreate.module.css\";\nimport Year from \"./components/year/Year\";\nimport axios from \"axios\";\nimport CreateGradeContainer from \"./components/CreateGradeContainer\";\nimport GradeListContainer from \"./components/GradeListContainer\";\n\nclass YearCreateContainer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleInput = event => {\n      this.setState({ ...this.state,\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleGetUsers = async () => {\n      await axios.get(\"http://localhost:5000/users/\").then(response => {\n        this.setState({\n          users: response.data\n        });\n      }).catch(function (error) {});\n    };\n\n    this.handleSearch = event => {\n      this.setState({ ...this.state,\n        [event.target.name]: event.target.value\n      });\n      let students = [];\n\n      if (event.target.value.trim().length === 0) {\n        this.setState({\n          search: []\n        });\n      } else {\n        this.state.users.map(user => {\n          if (this.state.filterByName) {\n            if (user.name.includes(event.target.value) || user.secondName.includes(event.target.value) || user.familyName.includes(event.target.value)) {\n              students.push(user);\n            }\n          } else {\n            if (user.username.includes(event.target.value.trim())) {\n              students.push(user);\n            }\n          }\n        });\n        this.setState({\n          search: students\n        });\n      }\n\n      students = [];\n    };\n\n    this.handleChangeFilter = () => {\n      if (this.state.filterByName) {\n        this.setState({\n          filterByName: false\n        });\n      } else {\n        this.setState({\n          filterByName: true\n        });\n      }\n    };\n\n    this.handleAddStudent = student => {\n      let stu = [];\n      this.state.students.push(student);\n      this.state.students.map(student => {\n        stu = this.state.users.filter(user => user._id !== student._id);\n      });\n      this.setState({\n        search: [],\n        users: stu,\n        addStudent: \"\"\n      });\n    };\n\n    this.state = {\n      yearFrom: null,\n      yearTo: null,\n      grade: null,\n      subGrade: \"\",\n      teacher: \"\",\n      students: [],\n      users: [],\n      addStudent: \"\",\n      filterByName: false,\n      search: [],\n      schoolYear: {\n        yearFrom: 2019,\n        yearTo: 2020,\n        juniorSchool: [{\n          _id: 1,\n          grade: 1,\n          subGrade: \"a\",\n          teacher: \"silviq Kostova\",\n          students: [{\n            _id: 1,\n            username: \"9912067262\",\n            name: \"Иван\",\n            secondName: \"Башков\",\n            familyName: \"Георгиев\",\n            phone: \"0876825221\",\n            email: \"ivangeorgiev456@abvbg\"\n          }, {\n            _id: 2,\n            username: \"9912067261\",\n            name: \"Иван\",\n            secondName: \"Башков\",\n            familyName: \"Георгиев\",\n            phone: \"0876825221\",\n            email: \"ivangeorgiev456@abvbg\"\n          }]\n        }, {\n          _id: 1,\n          grade: 1,\n          subGrade: \"b\",\n          teacher: \"silviq Kostova\",\n          students: [{\n            _id: 1,\n            username: \"9912067262\",\n            name: \"Иван\",\n            secondName: \"Башков\",\n            familyName: \"Георгиев\",\n            phone: \"0876825221\",\n            email: \"ivangeorgiev456@abvbg\"\n          }, {\n            _id: 2,\n            username: \"9912067261\",\n            name: \"Иван\",\n            secondName: \"Башков\",\n            familyName: \"Георгиев\",\n            phone: \"0876825221\",\n            email: \"ivangeorgiev456@abvbg\"\n          }]\n        }, {\n          _id: 1,\n          grade: 2,\n          subGrade: \"a\",\n          teacher: \"silviq Kostova\",\n          students: [{\n            _id: 1,\n            username: \"9912067262\",\n            name: \"Иван\",\n            secondName: \"Башков\",\n            familyName: \"Георгиев\",\n            phone: \"0876825221\",\n            email: \"ivangeorgiev456@abvbg\"\n          }, {\n            _id: 2,\n            username: \"9912067261\",\n            name: \"Иван\",\n            secondName: \"Башков\",\n            familyName: \"Георгиев\",\n            phone: \"0876825221\",\n            email: \"ivangeorgiev456@abvbg\"\n          }]\n        }, {\n          _id: 1,\n          grade: 3,\n          subGrade: \"a\",\n          teacher: \"silviq Kostova\",\n          students: [{\n            _id: 1,\n            username: \"9912067262\",\n            name: \"Иван\",\n            secondName: \"Башков\",\n            familyName: \"Георгиев\",\n            phone: \"0876825221\",\n            email: \"ivangeorgiev456@abvbg\"\n          }, {\n            _id: 2,\n            username: \"9912067261\",\n            name: \"Иван\",\n            secondName: \"Башков\",\n            familyName: \"Георгиев\",\n            phone: \"0876825221\",\n            email: \"ivangeorgiev456@abvbg\"\n          }]\n        }, {\n          _id: 1,\n          grade: 4,\n          subGrade: \"a\",\n          teacher: \"silviq Kostova\",\n          students: [{\n            _id: 1,\n            username: \"9912067262\",\n            name: \"Иван\",\n            secondName: \"Башков\",\n            familyName: \"Георгиев\",\n            phone: \"0876825221\",\n            email: \"ivangeorgiev456@abvbg\"\n          }, {\n            _id: 2,\n            username: \"9912067261\",\n            name: \"Иван\",\n            secondName: \"Башков\",\n            familyName: \"Георгиев\",\n            phone: \"0876825221\",\n            email: \"ivangeorgiev456@abvbg\"\n          }]\n        }],\n        interSchool: [{\n          _id: 1,\n          grade: 5,\n          subGrade: \"a\",\n          teacher: \"silviq Kostova\",\n          students: [{\n            _id: 1,\n            username: \"9912067262\",\n            name: \"Иван\",\n            secondName: \"Башков\",\n            familyName: \"Георгиев\",\n            phone: \"0876825221\",\n            email: \"ivangeorgiev456@abvbg\"\n          }, {\n            _id: 2,\n            username: \"9912067261\",\n            name: \"Иван\",\n            secondName: \"Башков\",\n            familyName: \"Георгиев\",\n            phone: \"0876825221\",\n            email: \"ivangeorgiev456@abvbg\"\n          }]\n        }],\n        highSchool: [{\n          _id: 1,\n          grade: 8,\n          subGrade: \"a\",\n          teacher: \"silviq Kostova\",\n          students: [{\n            _id: 1,\n            username: \"9912067262\",\n            name: \"Иван\",\n            secondName: \"Башков\",\n            familyName: \"Георгиев\",\n            phone: \"0876825221\",\n            email: \"ivangeorgiev456@abvbg\"\n          }, {\n            _id: 2,\n            username: \"9912067261\",\n            name: \"Иван\",\n            secondName: \"Башков\",\n            familyName: \"Георгиев\",\n            phone: \"0876825221\",\n            email: \"ivangeorgiev456@abvbg\"\n          }]\n        }]\n      }\n    };\n  }\n\n  componentDidMount() {\n    this.handleGetUsers();\n  }\n\n  render() {\n    const {\n      yearFrom,\n      yearTo,\n      teacher,\n      grade,\n      subGrade,\n      students,\n      users,\n      addStudent,\n      filterByName,\n      search,\n      schoolYear\n    } = this.state;\n    return React.createElement(\"div\", {\n      className: YearCreate.year_container,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: YearCreate.year_title_border,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: YearCreate.year_create_title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, \"\\u0421\\u044A\\u0437\\u0434\\u0430\\u0432\\u0430\\u043D\\u0435 \\u043D\\u0430 \\u0443\\u0447\\u0435\\u0431\\u043D\\u0430 \\u0433\\u043E\\u0434\\u0438\\u043D\\u0430\"), React.createElement(Year, {\n      yearFrom: yearFrom,\n      yearTo: yearTo,\n      handleInput: this.handleInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: YearCreate.year_holder,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, React.createElement(GradeListContainer, {\n      schoolYear: schoolYear,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }), React.createElement(CreateGradeContainer, {\n      yearFrom: yearFrom,\n      yearTo: yearTo,\n      teacher: teacher,\n      grade: grade,\n      subGrade: subGrade,\n      students: students,\n      users: users,\n      addStudent: addStudent,\n      filterByName: filterByName,\n      search: search,\n      handleInput: this.handleInput,\n      handleAddStudent: this.handleAddStudent,\n      handleChangeFilter: this.handleChangeFilter,\n      handleSearch: this.handleSearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    })));\n  }\n\n}\n\nYearCreateContainer.propTypes = {};\nexport default YearCreateContainer;","map":{"version":3,"sources":["/home/george/Documents/Home/ipon-web-school/src/client/admin/modules/gradess/yearCreate/YearCreateContainer.js"],"names":["React","YearCreate","Year","axios","CreateGradeContainer","GradeListContainer","YearCreateContainer","Component","constructor","props","handleInput","event","setState","state","target","name","value","handleGetUsers","get","then","response","users","data","catch","error","handleSearch","students","trim","length","search","map","user","filterByName","includes","secondName","familyName","push","username","handleChangeFilter","handleAddStudent","student","stu","filter","_id","addStudent","yearFrom","yearTo","grade","subGrade","teacher","schoolYear","juniorSchool","phone","email","interSchool","highSchool","componentDidMount","render","year_container","year_title_border","year_create_title","year_holder","propTypes"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport YearCreate from \"./components/YearCreate.module.css\";\nimport Year from \"./components/year/Year\";\nimport axios from \"axios\";\nimport CreateGradeContainer from \"./components/CreateGradeContainer\";\nimport GradeListContainer from \"./components/GradeListContainer\";\n\nclass YearCreateContainer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      yearFrom: null,\n      yearTo: null,\n      grade: null,\n      subGrade: \"\",\n      teacher: \"\",\n      students: [],\n      users: [],\n      addStudent: \"\",\n      filterByName: false,\n      search: [],\n      schoolYear: {\n        yearFrom: 2019,\n        yearTo: 2020,\n        juniorSchool: [\n          {\n            _id: 1,\n            grade: 1,\n            subGrade: \"a\",\n            teacher: \"silviq Kostova\",\n            students: [\n              {\n                _id: 1,\n                username: \"9912067262\",\n                name: \"Иван\",\n                secondName: \"Башков\",\n                familyName: \"Георгиев\",\n                phone: \"0876825221\",\n                email: \"ivangeorgiev456@abvbg\"\n              },\n              {\n                _id: 2,\n                username: \"9912067261\",\n                name: \"Иван\",\n                secondName: \"Башков\",\n                familyName: \"Георгиев\",\n                phone: \"0876825221\",\n                email: \"ivangeorgiev456@abvbg\"\n              }\n            ]\n          },\n          {\n            _id: 1,\n            grade: 1,\n            subGrade: \"b\",\n            teacher: \"silviq Kostova\",\n            students: [\n              {\n                _id: 1,\n                username: \"9912067262\",\n                name: \"Иван\",\n                secondName: \"Башков\",\n                familyName: \"Георгиев\",\n                phone: \"0876825221\",\n                email: \"ivangeorgiev456@abvbg\"\n              },\n              {\n                _id: 2,\n                username: \"9912067261\",\n                name: \"Иван\",\n                secondName: \"Башков\",\n                familyName: \"Георгиев\",\n                phone: \"0876825221\",\n                email: \"ivangeorgiev456@abvbg\"\n              }\n            ]\n          },\n          {\n            _id: 1,\n            grade: 2,\n            subGrade: \"a\",\n            teacher: \"silviq Kostova\",\n            students: [\n              {\n                _id: 1,\n                username: \"9912067262\",\n                name: \"Иван\",\n                secondName: \"Башков\",\n                familyName: \"Георгиев\",\n                phone: \"0876825221\",\n                email: \"ivangeorgiev456@abvbg\"\n              },\n              {\n                _id: 2,\n                username: \"9912067261\",\n                name: \"Иван\",\n                secondName: \"Башков\",\n                familyName: \"Георгиев\",\n                phone: \"0876825221\",\n                email: \"ivangeorgiev456@abvbg\"\n              }\n            ]\n          },\n          {\n            _id: 1,\n            grade: 3,\n            subGrade: \"a\",\n            teacher: \"silviq Kostova\",\n            students: [\n              {\n                _id: 1,\n                username: \"9912067262\",\n                name: \"Иван\",\n                secondName: \"Башков\",\n                familyName: \"Георгиев\",\n                phone: \"0876825221\",\n                email: \"ivangeorgiev456@abvbg\"\n              },\n              {\n                _id: 2,\n                username: \"9912067261\",\n                name: \"Иван\",\n                secondName: \"Башков\",\n                familyName: \"Георгиев\",\n                phone: \"0876825221\",\n                email: \"ivangeorgiev456@abvbg\"\n              }\n            ]\n          },\n          {\n            _id: 1,\n            grade: 4,\n            subGrade: \"a\",\n            teacher: \"silviq Kostova\",\n            students: [\n              {\n                _id: 1,\n                username: \"9912067262\",\n                name: \"Иван\",\n                secondName: \"Башков\",\n                familyName: \"Георгиев\",\n                phone: \"0876825221\",\n                email: \"ivangeorgiev456@abvbg\"\n              },\n              {\n                _id: 2,\n                username: \"9912067261\",\n                name: \"Иван\",\n                secondName: \"Башков\",\n                familyName: \"Георгиев\",\n                phone: \"0876825221\",\n                email: \"ivangeorgiev456@abvbg\"\n              }\n            ]\n          }\n        ],\n        interSchool: [\n          {\n            _id: 1,\n            grade: 5,\n            subGrade: \"a\",\n            teacher: \"silviq Kostova\",\n            students: [\n              {\n                _id: 1,\n                username: \"9912067262\",\n                name: \"Иван\",\n                secondName: \"Башков\",\n                familyName: \"Георгиев\",\n                phone: \"0876825221\",\n                email: \"ivangeorgiev456@abvbg\"\n              },\n              {\n                _id: 2,\n                username: \"9912067261\",\n                name: \"Иван\",\n                secondName: \"Башков\",\n                familyName: \"Георгиев\",\n                phone: \"0876825221\",\n                email: \"ivangeorgiev456@abvbg\"\n              }\n            ]\n          }\n        ],\n        highSchool: [\n          {\n            _id: 1,\n            grade: 8,\n            subGrade: \"a\",\n            teacher: \"silviq Kostova\",\n            students: [\n              {\n                _id: 1,\n                username: \"9912067262\",\n                name: \"Иван\",\n                secondName: \"Башков\",\n                familyName: \"Георгиев\",\n                phone: \"0876825221\",\n                email: \"ivangeorgiev456@abvbg\"\n              },\n              {\n                _id: 2,\n                username: \"9912067261\",\n                name: \"Иван\",\n                secondName: \"Башков\",\n                familyName: \"Георгиев\",\n                phone: \"0876825221\",\n                email: \"ivangeorgiev456@abvbg\"\n              }\n            ]\n          }\n        ]\n      }\n    };\n  }\n  componentDidMount() {\n    this.handleGetUsers();\n  }\n\n  handleInput = event => {\n    this.setState({\n      ...this.state,\n      [event.target.name]: event.target.value\n    });\n  };\n  handleGetUsers = async () => {\n    await axios\n      .get(\"http://localhost:5000/users/\")\n      .then(response => {\n        this.setState({ users: response.data });\n      })\n      .catch(function(error) {});\n  };\n  handleSearch = event => {\n    this.setState({\n      ...this.state,\n      [event.target.name]: event.target.value\n    });\n    let students = [];\n    if (event.target.value.trim().length === 0) {\n      this.setState({ search: [] });\n    } else {\n      this.state.users.map(user => {\n        if (this.state.filterByName) {\n          if (\n            user.name.includes(event.target.value) ||\n            user.secondName.includes(event.target.value) ||\n            user.familyName.includes(event.target.value)\n          ) {\n            students.push(user);\n          }\n        } else {\n          if (user.username.includes(event.target.value.trim())) {\n            students.push(user);\n          }\n        }\n      });\n      this.setState({ search: students });\n    }\n    students = [];\n  };\n  handleChangeFilter = () => {\n    if (this.state.filterByName) {\n      this.setState({ filterByName: false });\n    } else {\n      this.setState({ filterByName: true });\n    }\n  };\n  handleAddStudent = student => {\n    let stu = [];\n    this.state.students.push(student);\n    this.state.students.map(student => {\n      stu = this.state.users.filter(user => user._id !== student._id);\n    });\n    this.setState({ search: [], users: stu, addStudent: \"\" });\n  };\n  render() {\n    const {\n      yearFrom,\n      yearTo,\n      teacher,\n      grade,\n      subGrade,\n      students,\n      users,\n      addStudent,\n      filterByName,\n      search,\n      schoolYear\n    } = this.state;\n    return (\n      <div className={YearCreate.year_container}>\n        <div className={YearCreate.year_title_border}>\n          <div className={YearCreate.year_create_title}>\n            Създаване на учебна година\n          </div>\n          <Year\n            yearFrom={yearFrom}\n            yearTo={yearTo}\n            handleInput={this.handleInput}\n          />\n        </div>\n        <div className={YearCreate.year_holder}>\n          <GradeListContainer schoolYear={schoolYear} />\n          <CreateGradeContainer\n            yearFrom={yearFrom}\n            yearTo={yearTo}\n            teacher={teacher}\n            grade={grade}\n            subGrade={subGrade}\n            students={students}\n            users={users}\n            addStudent={addStudent}\n            filterByName={filterByName}\n            search={search}\n            handleInput={this.handleInput}\n            handleAddStudent={this.handleAddStudent}\n            handleChangeFilter={this.handleChangeFilter}\n            handleSearch={this.handleSearch}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nYearCreateContainer.propTypes = {};\n\nexport default YearCreateContainer;\n"]},"metadata":{},"sourceType":"module"}